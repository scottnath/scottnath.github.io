const g=()=>{const n=document.querySelector("#favicon");if(document.hidden){const a=n?.href;document.initialFavicon=a,n.href="/favicon-clown.ico"}else document.initialFavicon!==""&&(n.href=document.initialFavicon)};document.addEventListener("visibilitychange",g,!0);document.initialFavicon=document.querySelector("#favicon").href;const y="modulepreload",w=function(n){return"/"+n},h={},p=function(a,d,m){let u=Promise.resolve();if(d&&d.length>0){const o=document.getElementsByTagName("link"),i=document.querySelector("meta[property=csp-nonce]"),r=i?.nonce||i?.getAttribute("nonce");u=Promise.all(d.map(t=>{if(t=w(t),t in h)return;h[t]=!0;const c=t.endsWith(".css"),v=c?'[rel="stylesheet"]':"";if(!!m)for(let l=o.length-1;l>=0;l--){const f=o[l];if(f.href===t&&(!c||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${t}"]${v}`))return;const s=document.createElement("link");if(s.rel=c?"stylesheet":y,c||(s.as="script",s.crossOrigin=""),s.href=t,r&&s.setAttribute("nonce",r),document.head.appendChild(s),c)return new Promise((l,f)=>{s.addEventListener("load",l),s.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${t}`)))})}))}return u.then(()=>a()).catch(o=>{const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=o,window.dispatchEvent(i),!i.defaultPrevented)throw o})};function E(n={}){const{immediate:a=!1,onNeedRefresh:d,onOfflineReady:m,onRegistered:u,onRegisteredSW:o,onRegisterError:i}=n;let r,t;const c=async(e=!0)=>{await t};async function v(){if("serviceWorker"in navigator){if(r=await p(()=>import("./workbox-window.prod.es5.DFjpnwFp.js"),[]).then(({Workbox:e})=>new e("/sw.js",{scope:"/",type:"classic"})).catch(e=>{i?.(e)}),!r)return;r.addEventListener("activated",e=>{(e.isUpdate||e.isExternal)&&window.location.reload()}),r.addEventListener("installed",e=>{e.isUpdate||m?.()}),r.register({immediate:a}).then(e=>{o?o("/sw.js",e):u?.(e)}).catch(e=>{i?.(e)})}}return t=v(),c}E({immediate:!0,onRegisteredSW(n){console.log("SW registered: ",n)},onOfflineReady(){console.log("PWA application ready to work offline")}});
