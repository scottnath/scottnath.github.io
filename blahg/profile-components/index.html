<!DOCTYPE html><html lang="en"> <head><script defer data-domain="scottnath.com" src="https://plausible.io/js/script.js" type="text/partytown"></script> <!-- Global Metadata --><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="icon" href="/favicon-mind-blown.ico" id="favicon"><meta name="generator" content="Astro v4.0.3"><link rel="preload" as="image" href="/scott-nath-profile-pic.jpeg"><!-- Canonical URL --><link rel="canonical" href="https://scottnath.com/blahg/profile-components/"><!-- Primary Meta Tags --><title>Profile Components: display social profiles in native web components</title><meta name="title" content="Profile Components: display social profiles in native web components"><meta name="description" content="Profile-components are a set of web components with zero dependencies that display publicly-available profile information from various social networks. Currently two: GitHub and dev.to."><!-- Open Graph / Facebook --><meta property="og:type" content="website"><meta property="og:url" content="https://scottnath.com/blahg/profile-components/"><meta property="og:title" content="Profile Components: display social profiles in native web components"><meta property="og:description" content="Profile-components are a set of web components with zero dependencies that display publicly-available profile information from various social networks. Currently two: GitHub and dev.to."><meta property="og:image" content="https://scottnath.com/profile-components-blahg/profile-components-header-prod.jpeg"><!-- Twitter --><meta property="twitter:card" content="summary_large_image"><meta property="twitter:url" content="https://scottnath.com/blahg/profile-components/"><meta property="twitter:title" content="Profile Components: display social profiles in native web components"><meta property="twitter:description" content="Profile-components are a set of web components with zero dependencies that display publicly-available profile information from various social networks. Currently two: GitHub and dev.to."><meta property="twitter:image" content="https://scottnath.com/profile-components-blahg/profile-components-header-prod.jpeg"><link rel="stylesheet" href="/_astro/_slug_.F592C6HL.css" />
<style>@keyframes astroFadeInOut{0%{opacity:1}to{opacity:0}}@keyframes astroFadeIn{0%{opacity:0}}@keyframes astroFadeOut{to{opacity:0}}@keyframes astroSlideFromRight{0%{transform:translate(100%)}}@keyframes astroSlideFromLeft{0%{transform:translate(-100%)}}@keyframes astroSlideToRight{to{transform:translate(100%)}}@keyframes astroSlideToLeft{to{transform:translate(-100%)}}@media (prefers-reduced-motion){::view-transition-group(*),::view-transition-old(*),::view-transition-new(*){animation:none!important}[data-astro-transition-scope]{animation:none!important}}
</style><script type="module">const e=()=>{const i=document.querySelector("#favicon");if(document.hidden){const n=i?.href;document.initialFavicon=n,i.href="/favicon-clown.ico"}else document.initialFavicon!==""&&(i.href=document.initialFavicon)};document.addEventListener("visibilitychange",e,!0);document.initialFavicon=document.querySelector("#favicon").href;
</script>
<script>!(function(w,p,f,c){c=w[p]=Object.assign(w[p]||{},{"lib":"/~partytown/","debug":false});c[f]=(c[f]||[]).concat(["dataLayer.push"])})(window,'partytown','forward');/* Partytown 0.8.0 - MIT builder.io */
!function(t,e,n,i,r,o,a,d,s,c,l,p){function u(){p||(p=1,"/"==(a=(o.lib||"/~partytown/")+(o.debug?"debug/":""))[0]&&(s=e.querySelectorAll('script[type="text/partytown"]'),i!=t?i.dispatchEvent(new CustomEvent("pt1",{detail:t})):(d=setTimeout(f,1e4),e.addEventListener("pt0",w),r?h(1):n.serviceWorker?n.serviceWorker.register(a+(o.swPath||"partytown-sw.js"),{scope:a}).then((function(t){t.active?h():t.installing&&t.installing.addEventListener("statechange",(function(t){"activated"==t.target.state&&h()}))}),console.error):f())))}function h(t){c=e.createElement(t?"script":"iframe"),t||(c.setAttribute("style","display:block;width:0;height:0;border:0;visibility:hidden"),c.setAttribute("aria-hidden",!0)),c.src=a+"partytown-"+(t?"atomics.js?v=0.8.0":"sandbox-sw.html?"+Date.now()),e.querySelector(o.sandboxParent||"body").appendChild(c)}function f(n,r){for(w(),i==t&&(o.forward||[]).map((function(e){delete t[e.split(".")[0]]})),n=0;n<s.length;n++)(r=e.createElement("script")).innerHTML=s[n].innerHTML,e.head.appendChild(r);c&&c.parentNode.removeChild(c)}function w(){clearTimeout(d)}o=t.partytown||{},i==t&&(o.forward||[]).map((function(e){l=t,e.split(".").map((function(e,n,i){l=l[i[n]]=n+1<i.length?"push"==i[n+1]?[]:l[i[n]]||{}:function(){(t._ptf=t._ptf||[]).push(i,arguments)}}))})),"complete"==e.readyState?u():(t.addEventListener("DOMContentLoaded",u),t.addEventListener("load",u))}(window,document,navigator,top,window.crossOriginIsolated);</script><style>[data-astro-transition-scope="astro-x5ucuxqb-1"] { view-transition-name: astro-x5ucuxqb-1; }@layer astro { ::view-transition-old(astro-x5ucuxqb-1) { 
	animation-duration: 90ms, 220ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1), cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both, both;
	animation-name: astroFadeOut, astroSlideToLeft; }::view-transition-new(astro-x5ucuxqb-1) { 
	animation-duration: 210ms, 220ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1), cubic-bezier(0.76, 0, 0.24, 1);
	animation-delay: 30ms;
	animation-fill-mode: both, both;
	animation-name: astroFadeIn, astroSlideFromRight; }[data-astro-transition=back]::view-transition-old(astro-x5ucuxqb-1) { 
	animation-name: astroFadeOut, astroSlideToRight; }[data-astro-transition=back]::view-transition-new(astro-x5ucuxqb-1) { 
	animation-name: astroFadeIn, astroSlideFromLeft; } }[data-astro-transition-fallback="old"] [data-astro-transition-scope="astro-x5ucuxqb-1"],
			[data-astro-transition-fallback="old"][data-astro-transition-scope="astro-x5ucuxqb-1"] { 
	animation-duration: 90ms, 220ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1), cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both, both;
	animation-name: astroFadeOut, astroSlideToLeft; }[data-astro-transition-fallback="new"] [data-astro-transition-scope="astro-x5ucuxqb-1"],
			[data-astro-transition-fallback="new"][data-astro-transition-scope="astro-x5ucuxqb-1"] { 
	animation-duration: 210ms, 220ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1), cubic-bezier(0.76, 0, 0.24, 1);
	animation-delay: 30ms;
	animation-fill-mode: both, both;
	animation-name: astroFadeIn, astroSlideFromRight; }[data-astro-transition=back][data-astro-transition-fallback="old"] [data-astro-transition-scope="astro-x5ucuxqb-1"],
			[data-astro-transition=back][data-astro-transition-fallback="old"][data-astro-transition-scope="astro-x5ucuxqb-1"] { 
	animation-name: astroFadeOut, astroSlideToRight; }[data-astro-transition=back][data-astro-transition-fallback="new"] [data-astro-transition-scope="astro-x5ucuxqb-1"],
			[data-astro-transition=back][data-astro-transition-fallback="new"][data-astro-transition-scope="astro-x5ucuxqb-1"] { 
	animation-name: astroFadeIn, astroSlideFromLeft; }</style></head> <body> <header data-astro-cid-3ef6ksr2> <dope-stripes data-astro-cid-fb7ufwnd> <template shadowrootmode="open" data-astro-cid-fb7ufwnd><style>.stripes{width:100%;--left-width: 20%;--angle-width: 50px;--stripe-height: 20px;--stripe-angle: 39deg}.stripe{display:flex;align-items:left;margin:0 0 -1px;width:100%;--stripe-color: #ffe27a}.stripe span,.stripe:before,.stripe:after{content:" ";height:var(--stripe-height);display:block;background-color:var(--stripe-color);--rotated-height: calc(var(--angle-width) * tan(var(--stripe-angle)))}.stripe span{transform:skewY(var(--stripe-angle));transform-origin:0% 0%;flex:0 0 auto;width:calc(var(--angle-width));height:var(--stripe-height)}.stripe:before{width:var(--left-width);flex:0 0 auto}.stripe:after{flex:1 1 auto;transform:translateY(var(--rotated-height))}.blue{--stripe-color: rgb(0, 0, 255)}.yellow{--stripe-color: #ffe27a}.orange{--stripe-color: #ffa64d}.dark-orange{--stripe-color: #ff7f1a}</style><div class="stripes" part="stripes">
    <div class="stripe" style="--stripe-color: #ffd273"><span></span></div><div class="stripe" style="--stripe-color: #ffbf57"><span></span></div><div class="stripe" style="--stripe-color: #ffa43b"><span></span></div><div class="stripe" style="--stripe-color: #ff8920"><span></span></div><div class="stripe" style="--stripe-color: #ff6e05"><span></span></div>
  </div></template> </dope-stripes>  <div class="content" data-astro-cid-3ef6ksr2> <h2 data-astro-cid-3ef6ksr2> Scott Nath </h2> <h3 data-astro-cid-3ef6ksr2>Front-end architect</h3> <img src="/_astro/scott-nath-profile-photo.f4fELnzA.jpeg" alt="Scott Nath picture" width="400" height="400" class="avatar" data-astro-cid-3ef6ksr2> <nav data-astro-cid-3ef6ksr2> <a href="/" data-astro-cid-3ef6ksr2 data-astro-cid-eimmu3lg> Home </a>  <a href="/blahg" data-astro-cid-3ef6ksr2 data-astro-cid-eimmu3lg> Blahg </a>  <a href="/resume" data-astro-cid-3ef6ksr2 data-astro-cid-eimmu3lg> Resume </a>  </nav> <address class="socials" aria-label="Also find me on these sites" data-astro-cid-3ef6ksr2> <a rel="me" href="https://dev.to/scottnath" data-astro-cid-3ef6ksr2><img src="/_astro/dev.z8gCfEYq.svg" alt="DEV logo" data-astro-cid-3ef6ksr2><span data-astro-cid-3ef6ksr2>DEV</span></a> <a rel="me" href="https://github.com/scottnath" data-astro-cid-3ef6ksr2><img src="/_astro/github-inverse.OXObEoN4.svg" alt="GitHub logo" data-astro-cid-3ef6ksr2><span data-astro-cid-3ef6ksr2>GitHub</span></a> <a rel="me" href="https://www.linkedin.com/in/scottnath" data-astro-cid-3ef6ksr2><img src="/_astro/linkedin.vdjjPjup.svg" alt="LinkedIn logo" data-astro-cid-3ef6ksr2><span data-astro-cid-3ef6ksr2>LinkedIn</span></a> <a rel="me" href="https://mastodon.social/@scottnath" data-astro-cid-3ef6ksr2><img src="/_astro/Mastodon.EGgauW9X.svg" alt="Mastodon logo" data-astro-cid-3ef6ksr2><span data-astro-cid-3ef6ksr2>Mastodon</span></a> </address> </div> </header>  <main data-astro-transition-scope="astro-x5ucuxqb-1">  <article class="blog-post"> <img width="100%" height="auto" src="/profile-components-blahg/profile-components-header-prod.jpeg" alt=""> <h1 class="title">Profile Components: display social profiles in native web components</h1> <time datetime="2023-10-10T00:00:00.000Z"> Oct 10, 2023 </time>  <hr>  <p>Profile Components is a set of web components with zero dependencies that display publicly-available profile information from various social networks. Currently two: GitHub and dev.to.</p>
<p>Being native web components, these can be used in any HTML page, framework-based site, or wherever you can use HTML.  They are available via unpkg.com or you can add the NPM module to your project.</p>
<h2 id="100-all-natural-features">100% All Natural Features!</h2>
<p>🔥 <a href="#%F0%9F%94%A5">100% native web components</a></p>
<p>🚫 <a href="#%F0%9F%9A%AB">Zero dependencies</a></p>
<p>🔓 <a href="#%F0%9F%94%93">No api keys needed</a></p>
<p>🎨 <a href="#%F0%9F%8E%A8">New hotness CSS w/nesting &#x26; container queries</a></p>
<p>👷 <a href="#%F0%9F%91%B7">DX: Separate files for Javascript, HTML, and CSS</a></p>
<p>✅ <a href="#%E2%9C%85">Native unit testing with node:test</a></p>
<p>♿ <a href="#%E2%99%BF">Fully accessible</a></p>
<p>🎁 <a href="#%F0%9F%8E%81">Bonus! A sneaky SSR workaround for server side rendering!</a></p>
<h2 id="tldr">tl;dr</h2>
<p>use via unpkg.com:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#6A737D">&#x3C;!-- add to HEAD --></span></span>
<span class="line"><span style="color:#E1E4E8">&#x3C;</span><span style="color:#85E89D">script</span><span style="color:#E1E4E8"> </span></span>
<span class="line"><span style="color:#B392F0">  type</span><span style="color:#E1E4E8">=</span><span style="color:#9ECBFF">"module"</span><span style="color:#E1E4E8"> </span></span>
<span class="line"><span style="color:#B392F0">  src</span><span style="color:#E1E4E8">=</span><span style="color:#9ECBFF">"https://unpkg.com/profile-components-blahg/dist/github-user.js"</span><span style="color:#E1E4E8">>&#x3C;/</span><span style="color:#85E89D">script</span><span style="color:#E1E4E8">></span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">&#x3C;!-- shows a GitHub profile with fetched content for user `scottnath` --></span></span>
<span class="line"><span style="color:#E1E4E8">&#x3C;</span><span style="color:#85E89D">github-user</span><span style="color:#B392F0"> username</span><span style="color:#E1E4E8">=</span><span style="color:#9ECBFF">"scottnath"</span><span style="color:#B392F0"> fetch</span><span style="color:#E1E4E8">=</span><span style="color:#9ECBFF">"true"</span><span style="color:#E1E4E8">>&#x3C;/</span><span style="color:#85E89D">github-user</span><span style="color:#E1E4E8">></span></span></code></pre>
<p>install via NPM:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0"><code><span class="line"><span>npm i profile-components</span></span></code></pre>
<p>links to learn more:</p>
<ul>
<li><a href="https://github.com/scottnath/profile-components">profile-components on GitHub</a></li>
<li>play with the components in <a href="https://scottnath.github.io/profile-components">Storybook</a></li>
<li><a href="https://stackblitz.com/edit/profile-components">See demos on stackblitz</a></li>
</ul>
<h2 id="-framework-free-in-2023">🔥 Framework-free in 2023! <a name="🔥"></a></h2>
<p>There have been a lot of feature drops across the major browsers this year, allowing us to more easily build shareable and reusable web components without any frameworks and without pre-or-post style-processors like Sass or PostCSS. This includes full implementation most of the original web components spec (🫗 <em>r.i.p. HTML imports</em>.) This year also includes lots of long-sought-after CSS features like container queries and nesting.</p>
<p><code>profile-components</code> contain user interfaces without interactions or changing state making them simple to build cross-browser. As web components with unique styling, the isolation of styles inside the shadow dom is a benefit because each component uses a different set of root variables and styles. The style isolation allows these old school “widgets” to visually represent the social network they are displaying without affecting the rest of your page.</p>
<h2 id="-zero-dependencies">🚫 Zero dependencies <a name="🚫"></a></h2>
<p>Any dependencies on this project are only for development. Meaning there are dependencies listed in <code>devDependencies</code>, but those are for testing and building the distributed components. The only external code which goes into the final build are the style variables and icons pulled from the social network’s open source code.</p>
<h2 id="-fetches-live-data---no-api-keys-needed">🔓 Fetches live data - no api keys needed! <a name="🔓"></a></h2>
<p>There are two options for sourcing content into these web components: fetch it live from the social’s rest API or feed the component static data via the HTML attributes. You may also mix in your own data to overwrite what comes from the APIs - like if you wanted to have a local avatar image instead.</p>
<p><em>note</em>: future components may need an API key(s), but for now, these use public, AUTH-free endpoints.</p>
<h3 id="fetching-live-data-fetchtrue">Fetching live data (<code>fetch="true"</code>)</h3>
<table>
<tbody><tr>
<td>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#E1E4E8">&#x3C;</span><span style="color:#85E89D">github-user</span></span>
<span class="line"><span style="color:#B392F0">  username</span><span style="color:#E1E4E8">=</span><span style="color:#9ECBFF">"scottnath"</span></span>
<span class="line"><span style="color:#B392F0">  fetch</span><span style="color:#E1E4E8">=</span><span style="color:#9ECBFF">"true"</span></span>
<span class="line"><span style="color:#E1E4E8">>&#x3C;/</span><span style="color:#85E89D">github-user</span><span style="color:#E1E4E8">></span></span></code></pre>
</td>
<td>
<p><img src="/profile-components-blahg/github-dark-scottnath-400px.png" alt="Example of GitHub profile component with fetched data"></p>
</td>
</tr>
<tr>
<td colspan="2">
<h2>...or... Skip fetching and use static data</h2>
</td>
</tr>
<tr>
<td>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#E1E4E8">&#x3C;</span><span style="color:#85E89D">github-user</span></span>
<span class="line"><span style="color:#B392F0">username</span><span style="color:#E1E4E8">=</span><span style="color:#9ECBFF">"scottnath"</span></span>
<span class="line"><span style="color:#B392F0">name</span><span style="color:#E1E4E8">=</span><span style="color:#9ECBFF">"Meowy McMeowerstein"</span></span>
<span class="line"><span style="color:#B392F0">bio</span><span style="color:#E1E4E8">=</span><span style="color:#9ECBFF">"Spending time </span></span>
<span class="line"><span style="color:#9ECBFF">     purring and sleepin"</span></span>
<span class="line"><span style="color:#B392F0">followers</span><span style="color:#E1E4E8">=</span><span style="color:#9ECBFF">"500000"</span></span>
<span class="line"><span style="color:#B392F0">following</span><span style="color:#E1E4E8">=</span><span style="color:#9ECBFF">"2980"</span></span>
<span class="line"><span style="color:#B392F0">avatar_url</span><span style="color:#E1E4E8">=</span><span style="color:#9ECBFF">"/cat-avatar.png"</span></span>
<span class="line"><span style="color:#E1E4E8">>&#x3C;/</span><span style="color:#85E89D">github-user</span><span style="color:#E1E4E8">></span></span></code></pre>
</td>
<td>
<p><img src="/profile-components-blahg/github-dark-meowy-400px.png" alt="Example of GitHub profile component with local data"></p>
</td>
</tr>
</tbody></table>
<h2 id="-styles">🎨 Styles <a name="🎨"></a></h2>
<p>Stylesheets are written in pure CSS and only use features which are supported in all major browsers.</p>
<h3 id="nesting">Nesting</h3>
<p>Stylesheets have their styles nested to reduce adding extra classes to the HTML and to make them easier to maintain.</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#6A737D">/* uses `:has` to target the dl with a .post inside */</span></span>
<span class="line"><span style="color:#E1E4E8">&#x26; </span><span style="color:#85E89D">dl</span><span style="color:#B392F0">:has</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">.post</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#79B8FF">  border-bottom</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">1</span><span style="color:#F97583">px</span><span style="color:#79B8FF"> solid</span><span style="color:#79B8FF"> var</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">--color-shadow</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#79B8FF">  padding-bottom</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">1</span><span style="color:#F97583">em</span><span style="color:#E1E4E8">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">  /* any `dt` inside a `dl` with a `.post` inside */</span></span>
<span class="line"><span style="color:#E1E4E8">  &#x26; </span><span style="color:#79B8FF">dt</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#79B8FF">    color</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">var</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">--color-light</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#79B8FF">    font-size</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">var</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">--font-size-light</span><span style="color:#E1E4E8">);</span></span></code></pre>
<h3 id="container-queries">Container Queries</h3>
<p>Container queries allow the components to be responsive to their container, not the viewport - a more realistic usage scenario.</p>













<table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td><figure><img src="/profile-components-blahg/devto-200px-wide.png" width="200" alt="DEV web component in a 200 pixel wide container"><figcaption>200px wide container</figcaption></figure></td><td><figure><img width="400" src="/profile-components-blahg/devto-400px-wide.png" alt="DEV web component in a 400 pixel wide container"><figcaption>400px wide container</figcaption></figure></td></tr></tbody></table>
<h3 id="colors-and-css-variables-sourced-from-the-social-network">Colors and CSS variables sourced from the social network</h3>
<p>To make the components <em>feel</em> like the sites they represent, they need to use the same colors, icons, and fonts. So to build these components, I sourced CSS variables from their open source repositories or modules. For GitHub, this means styles from the <a href="https://primer.style/">primer design system</a> and for dev.to, which is built using the <a href="https://www.forem.com/">Forem community software</a>, I sourced styles from the <a href="https://github.com/forem/forem">forem/forem repo on GitHub</a>.</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#6A737D">/* from the GitHub design-system, primer */</span></span>
<span class="line"><span style="color:#6A737D">/* Light Theme */</span><span style="color:#B392F0">:host</span><span style="color:#E1E4E8">([</span><span style="color:#B392F0">data-theme</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">"light"</span><span style="color:#E1E4E8">]) {</span></span>
<span class="line"><span style="color:#FFAB70">  --color-avatar-border</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">rgba</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">31</span><span style="color:#E1E4E8">,</span><span style="color:#79B8FF">35</span><span style="color:#E1E4E8">,</span><span style="color:#79B8FF">40</span><span style="color:#E1E4E8">,</span><span style="color:#79B8FF">0.15</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#FFAB70">  --color-border-default</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">#d0d7de</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#FFAB70">  --color-canvas-default</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">#ffffff</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#FFAB70">  --color-canvas-subtle</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">#f6f8fa</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#FFAB70">  --color-fg-default</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">#1F2328</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#FFAB70">  --color-fg-muted</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">#656d76</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#FFAB70">  --color-fg-subtle</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">#6e7781</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#FFAB70">  --color-fg-onemphasis</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">#ffffff</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#FFAB70">  --color-fg-accent</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">#0969da</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#FFAB70">  --color-fg-danger</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">#d1242f</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"><span style="color:#6A737D">/* Light Protanopia &#x26; Deuteranopia Theme */</span><span style="color:#B392F0">:host</span><span style="color:#E1E4E8">([</span><span style="color:#B392F0">data-theme</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">"light_colorblind"</span><span style="color:#E1E4E8">]) {</span></span>
<span class="line"><span style="color:#FFAB70">  --color-avatar-border</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">rgba</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">27</span><span style="color:#E1E4E8">,</span><span style="color:#79B8FF">31</span><span style="color:#E1E4E8">,</span><span style="color:#79B8FF">36</span><span style="color:#E1E4E8">,</span><span style="color:#79B8FF">0.15</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">  ...</span></span></code></pre>
<h2 id="-dx-separate-files-for-javascript-html-and-css">👷 DX: Separate files for Javascript, HTML, and CSS <a name="👷"></a></h2>
<p>”<em>Easy to maintain</em>” requires a good Developer Experience (DX). To make these components easier to iterate on and update, they’re built like a web page. This means separate HTML, Javascript and CSS files. While the development happens in separate files, the content from the various files is compiled into a single file for distribution.</p>
<p>I was inspired by Leon Eck’s post <a href="https://leoneck.de/blog/wc-split-setup/">Splitting Web Components into .ts, .html, and .scss files</a>, which detailed a similar approach, using <a href="https://esbuild.github.io/">esbuild</a> to compile the files into a single file. Esbuild is pretty simple to set up and configure, and it easily takes every <code>import</code>ed file and converts it to an in-file variable.</p>
<h3 id="html-generation-without-frameworks-or-libraries">HTML generation without frameworks or libraries</h3>
<p>To maintain the <strong>zero dependencies</strong> goal, the HTML is living inside a Javascript file as a string returned from a method that accepts a single, JSDoc-documented parameter. This is not ideal, but allows using Javascript to generate the HTML without a framework or templating library like Lit or Handlebars. This is also what makes the SSR trick easy to pull off.</p>
<h3 id="javascript-methods-outside-of-the-customelements-class">Javascript methods outside of the customElements class</h3>
<p>Testing is paramount to easy maintenance. The JS methods used by these components perform fairly simple tasks which can be unit tested without the need for a browser. These web components get data using the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API">Fetch API</a>, which is fully implemented in both Node and browsers, making it easy to create mock responses and unit tests. They <strong>can also be used outside of the web component</strong>, so a separate file makes sense.</p>
<h3 id="separate-stylesheets-for-styles-and-source-variables">Separate stylesheets for styles and source variables.</h3>
<p>There are separate sheets for maintainability. Generally, there is one auto-generated file with variables from the social network, one with stylesheet with global styles (since there are multiple components with unique styles combined), and one stylesheet per component. Generally the files are:</p>
<dl>
  <dt>vars-[source].css</dt>
  <dd>e.g. `vars-devto.css`.</dd>
  <dd>Variables from the social network's open source code</dd>
  <dt>global.css</dt>
  <dd>Global style variables</dd>
  <dd>Shared across all components</dd>
  <dt>[component].css</dt>
  <dd>e.g. `user.css` or `repository.css`</dd>
  <dd>Styles specific to the component</dd>
</dl>
<p>These are then imported by the web component and exported with the HTML inside a <code>&#x3C;style></code> tag.</p>
<h2 id="-fully-accessible">♿ Fully accessible <a name="♿"></a></h2>
<p>These components are tested using screen readers and AXE via Storybook. The HTML structure focuses on semantic HTML and when read aloud via screen reader, screen-reader-only content is available to provide context to the user.</p>
<p>For example, in the GitHub component, the header looks like this:</p>
<p><img src="/profile-components-blahg/github-component-header-scottnath.png" alt="GitHub component header shows the GitHub logo and the username"></p>
<p>And the HTML is this:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#E1E4E8">&#x3C;</span><span style="color:#85E89D">section</span><span style="color:#B392F0"> aria-label</span><span style="color:#E1E4E8">=</span><span style="color:#9ECBFF">"GitHub user profile"</span><span style="color:#B392F0"> itemscope</span><span style="color:#B392F0"> itemtype</span><span style="color:#E1E4E8">=</span><span style="color:#9ECBFF">"http://schema.org/Person"</span><span style="color:#E1E4E8">></span></span>
<span class="line"><span style="color:#E1E4E8">  &#x3C;</span><span style="color:#85E89D">header</span><span style="color:#E1E4E8">></span></span>
<span class="line"><span style="color:#E1E4E8">    &#x3C;</span><span style="color:#85E89D">span</span><span style="color:#E1E4E8">>&#x3C;</span><span style="color:#85E89D">span</span><span style="color:#B392F0"> itemprop</span><span style="color:#E1E4E8">=</span><span style="color:#9ECBFF">"memberOf"</span><span style="color:#E1E4E8">>GitHub&#x3C;/</span><span style="color:#85E89D">span</span><span style="color:#E1E4E8">> user&#x3C;/</span><span style="color:#85E89D">span</span><span style="color:#E1E4E8">> </span></span>
<span class="line"><span style="color:#E1E4E8">    &#x3C;</span><span style="color:#85E89D">span</span><span style="color:#B392F0"> itemprop</span><span style="color:#E1E4E8">=</span><span style="color:#9ECBFF">"alternativeName"</span><span style="color:#E1E4E8">>scottnath&#x3C;/</span><span style="color:#85E89D">span</span><span style="color:#E1E4E8">></span></span>
<span class="line"><span style="color:#E1E4E8">  &#x3C;/</span><span style="color:#85E89D">header</span><span style="color:#E1E4E8">></span></span></code></pre>
<p>The styles convert the first span into the GitHub logo using CSS’ <code>mask-image</code> property. This visually hides the text, but it’s still available to screen readers, so the screen reader reads this to the user:</p>
<p>”<em>GitHub user profile GitHub user scottnath</em>”</p>
<p><em>note</em>: The <code>itemscope</code> and other <code>item[thing]</code> attributes are from <a href="https://schema.org">schema.org</a>. These are used to structutre the data into microformats. This is more for SEO and content structure than for accessibility.</p>
<h2 id="-native-unit-testing-with-node-20s-nodetest">✅ Native Unit Testing with Node 20’s node:test <a name="✅"></a></h2>
<p>Might as well go all in! <strong>Node 20 shipped with a native test runner</strong>, <a href="https://nodejs.org/api/test.html">node:test</a>. Fairly simple test runner, but it includes code coverage and has all the functionality needed to unit test these components.</p>
<p>The latest unit test runs are visible in the <a href="https://github.com/scottnath/profile-components-blahg/actions/workflows/unit-tests.yml">unit tests GitHub action workflow for profile-components</a></p>
<h2 id="-bonus-server-side-rendering-cheatcode">🎁 bonus! Server Side Rendering cheatcode! <a name="🎁"></a></h2>
<p>Because these components were built with separate HTML, CSS, and JS files, you can use those pieces to generate HTML on the server. This example is what I did to make an Astro component for scottnath.com.</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#6A737D">// DevToUser.astro</span></span>
<span class="line"><span style="color:#F97583">---</span></span>
<span class="line"><span style="color:#F97583">import</span><span style="color:#E1E4E8"> devto </span><span style="color:#F97583">from</span><span style="color:#9ECBFF"> 'profile-components/devto-utils.js'</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> user</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> devto.user;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> userContent</span><span style="color:#F97583"> =</span><span style="color:#F97583"> await</span><span style="color:#E1E4E8"> user.</span><span style="color:#B392F0">generateContent</span><span style="color:#E1E4E8">({</span></span>
<span class="line"><span style="color:#E1E4E8">  username: </span><span style="color:#9ECBFF">'scottnath'</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">},</span><span style="color:#79B8FF">true</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#F97583">let</span><span style="color:#E1E4E8"> userHTML </span><span style="color:#F97583">=</span><span style="color:#9ECBFF"> '&#x3C;style>'</span><span style="color:#F97583"> +</span><span style="color:#E1E4E8"> user.styles </span><span style="color:#F97583">+</span><span style="color:#9ECBFF"> '&#x3C;/style>'</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">userHTML </span><span style="color:#F97583">+=</span><span style="color:#E1E4E8"> user.</span><span style="color:#B392F0">html</span><span style="color:#E1E4E8">(userContent);</span></span>
<span class="line"><span style="color:#F97583">---</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">&#x3C;</span><span style="color:#79B8FF">devto-user</span><span style="color:#E1E4E8">></span></span>
<span class="line"><span style="color:#E1E4E8">  &#x3C;</span><span style="color:#85E89D">template</span><span style="color:#B392F0"> shadowrootmode</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">"open"</span><span style="color:#B392F0"> set</span><span style="color:#E1E4E8">:</span><span style="color:#B392F0">html</span><span style="color:#F97583">=</span><span style="color:#E1E4E8">{userHTML}></span></span>
<span class="line"><span style="color:#E1E4E8">  &#x3C;/</span><span style="color:#85E89D">template</span><span style="color:#E1E4E8">></span></span>
<span class="line"><span style="color:#E1E4E8">&#x3C;/</span><span style="color:#79B8FF">devto-user</span><span style="color:#E1E4E8">></span></span></code></pre>  </article>  </main> <footer data-astro-cid-sz7xmlte> <hr data-astro-cid-sz7xmlte>
&copy; 2023&nbsp;Scott Nath All rights reserved.
</footer>  </body></html>